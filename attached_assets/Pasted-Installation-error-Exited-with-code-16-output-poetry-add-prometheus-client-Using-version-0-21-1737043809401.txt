Installation error: Exited with code: 16 output:--> poetry add prometheus-client Using version ^0.21.1 for prometheus-client Updating dependencies Resolving dependencies... Package operations: 0 installs, 11 updates, 0 removals • Updating packaging (23.2 -> 24.2) • Updating sqlalchemy (2.0.23 -> 2.0.36) CalledProcessError Command '['pip', 'uninstall', 'packaging', '-y']' returned non-zero exit status 2. at /nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/subprocess.py:571 in run 567│ # We don't call process.wait() as .__exit__ does that for us. 568│ raise 569│ retcode = process.poll() 570│ if check and retcode: → 571│ raise CalledProcessError(retcode, process.args, 572│ output=stdout, stderr=stderr) 573│ return CompletedProcess(process.args, retcode, stdout, stderr) 574│ 575│ The following error occurred when trying to handle this error: EnvCommandError Command ['pip', 'uninstall', 'packaging', '-y'] errored with the following return code 2 Output: Found existing installation: packaging 24.0 Uninstalling packaging-24.0: ERROR: Exception: Traceback (most recent call last): File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 853, in move os.rename(src, real_dst) OSError: [Errno 18] Invalid cross-device link: '/nix/store/lwjnn5iyh8jzzhbvlqw31498mhhkmhcx-python3.11-packaging-24.0/lib/python3.11/site-packages/packaging-24.0.dist-info/' -> '/tmp/pip-uninstall-znx8khnw' During handling of the above exception, another exception occurred: Traceback (most recent call last): File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/cli/base_command.py", line 180, in exc_logging_wrapper status = run_func(*args) ^^^^^^^^^^^^^^^ File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/commands/uninstall.py", line 105, in run uninstall_pathset = req.uninstall( ^^^^^^^^^^^^^^ File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/req/req_install.py", line 727, in uninstall uninstalled_pathset.remove(auto_confirm, verbose) File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/req/req_uninstall.py", line 380, in remove moved.stash(path) File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/req/req_uninstall.py", line 271, in stash renames(path, new_path) File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/utils/misc.py", line 358, in renames shutil.move(old, new) File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 871, in move rmtree(src) File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 752, in rmtree _rmtree_safe_fd(fd, path, onerror) File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 703, in _rmtree_safe_fd onerror(os.unlink, fullname, sys.exc_info()) File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 701, in _rmtree_safe_fd os.unlink(entry.name, dir_fd=topfd) PermissionError: [Errno 13] Permission denied: 'LICENSE' at /nix/store/vj3hs53nwlamzw031a06xc5d11ihjzlk-poetry-in-venv/env/lib/python3.11/site-packages/poetry/utils/env.py:1523 in _run 1519│ output = "" 1520│ else: 1521│ output = subprocess.check_output(cmd, stderr=stderr, env=env, **kwargs) 1522│ except CalledProcessError as e: → 1523│ raise EnvCommandError(e, input=input_) 1524│ 1525│ return decode(output) 1526│ 1527│ def execute(self, bin: str, *args: str, **kwargs: Any) -> int: CalledProcessError Command '['pip', 'uninstall', 'sqlalchemy', '-y']' returned non-zero exit status 2. at /nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/subprocess.py:571 in run 567│ # We don't call process.wait() as .__exit__ does that for us. 568│ raise 569│ retcode = process.poll() 570│ if check and retcode: → 571│ raise CalledProcessError(retcode, process.args, 572│ output=stdout, stderr=stderr) 573│ return CompletedProcess(process.args, retcode, stdout, stderr) 574│ 575│ The following error occurred when trying to handle this error: EnvCommandError Command ['pip', 'uninstall', 'sqlalchemy', '-y'] errored with the following return code 2 Output: Found existing installation: SQLAlchemy 2.0.30 Uninstalling SQLAlchemy-2.0.30: ERROR: Exception: Traceback (most recent call last): File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 853, in move os.rename(src, real_dst) OSError: [Errno 18] Invalid cross-device link: '/nix/store/311mpmxk4759nkmbpgbj6ka44w9pgaqm-python3.11-sqlalchemy-2.0.30/lib/python3.11/site-packages/SQLAlchemy-2.0.30.dist-info/' -> '/tmp/pip-uninstall-etkyx67_' During handling of the above exception, another exception occurred: Traceback (most recent call last): File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/cli/base_command.py", line 180, in exc_logging_wrapper status = run_func(*args) ^^^^^^^^^^^^^^^ File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/commands/uninstall.py", line 105, in run uninstall_pathset = req.uninstall( ^^^^^^^^^^^^^^ File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/req/req_install.py", line 727, in uninstall uninstalled_pathset.remove(auto_confirm, verbose) File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/req/req_uninstall.py", line 380, in remove moved.stash(path) File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/req/req_uninstall.py", line 271, in stash renames(path, new_path) File "/nix/store/dfg63lldbvcj207iyr9z0xw21d8ax02n-python3.11-pip-24.0/lib/python3.11/site-packages/pip/_internal/utils/misc.py", line 358, in renames shutil.move(old, new) File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 871, in move rmtree(src) File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 752, in rmtree _rmtree_safe_fd(fd, path, onerror) File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 703, in _rmtree_safe_fd onerror(os.unlink, fullname, sys.exc_info()) File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/shutil.py", line 701, in _rmtree_safe_fd os.unlink(entry.name, dir_fd=topfd) PermissionError: [Errno 13] Permission denied: 'LICENSE' at /nix/store/vj3hs53nwlamzw031a06xc5d11ihjzlk-poetry-in-venv/env/lib/python3.11/site-packages/poetry/utils/env.py:1523 in _run 1519│ output = "" 1520│ else: 1521│ output = subprocess.check_output(cmd, stderr=stderr, env=env, **kwargs) 1522│ except CalledProcessError as e: → 1523│ raise EnvCommandError(e, input=input_) 1524│ 1525│ return decode(output) 1526│ 1527│ def execute(self, bin: str, *args: str, **kwargs: Any) -> int: exit status 1