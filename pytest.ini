
[pytest]
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Percorsi dei test organizzati per tipo
testpaths = 
    tests/unit
    tests/integration
    tests/functional
    tests/security
    tests/performance
    tests/e2e

# Opzioni avanzate per l'esecuzione dei test
addopts = 
    -v                  # verbose output
    -ra                 # show extra test summary
    --strict-markers    # ensure markers are registered
    --disable-warnings  # disable warning capture
    --tb=short         # shorter traceback format

# Definizione dei marker per i diversi tipi di test
markers =
    unit: Unit tests
    integration: Integration tests
    functional: Functional tests
    security: Security tests
    performance: Performance tests
    e2e: End-to-end tests
    tdd: Tests that must be written before implementation
    blockchain: Blockchain related tests
    asyncio: mark test as async test
    gold: mark test as gold distribution test

# Configurazione del logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s (%(filename)s:%(lineno)s)
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Gestione warning
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning
    ignore::RuntimeWarning

# Path configuration
python_paths = .

# Configurazione cache
cache_dir = .pytest_cache